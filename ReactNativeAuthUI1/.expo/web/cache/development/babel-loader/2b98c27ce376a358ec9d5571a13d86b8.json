{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Divider } from \"react-native-web/dist/index\";\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport _ from \"lodash\";\nimport ChangeSectionClass from \"../singleStudentAttendance/ChangeSectionClass\";\nimport { CheckBox } from 'react-native-elements';\nimport { useIsFocused } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar windowWidth = Dimensions.get('window').width;\nvar windowHeight = Dimensions.get('window').height;\n\nvar MarkTeacherAttendance = function MarkTeacherAttendance(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([\"Name\"]),\n      _useState2 = _slicedToArray(_useState, 2),\n      columns = _useState2[0],\n      setColumns = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      direction = _useState4[0],\n      setDirection = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedColumn = _useState6[0],\n      setSelectedColumn = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      students = _useState8[0],\n      setStudents = _useState8[1];\n\n  var fetchPosts = function fetchPosts() {\n    var apiURL = \"http://192.168.18.14:8000/getStudentAttendance\";\n    fetch(apiURL).then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      setStudents(responseJson);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var focus = useIsFocused();\n  useEffect(function () {\n    fetchPosts();\n    return function () {};\n  }, [focus]);\n\n  var onSubmit = function onSubmit(any) {\n    console.log(any);\n    fetch('http://192.168.18.64:8000/studentattendance', {\n      method: \"POST\",\n      body: JSON.stringify(any),\n      headers: {\n        'content-type': 'application/json; charset=utf-8'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var MarkAttendance = function MarkAttendance(item, S) {\n    var std = students;\n    std[item].attendanc = S;\n\n    var newArr = _toConsumableArray(std);\n\n    newArr[item].attendanc = S;\n    setStudents(newArr);\n    var any = std[item];\n    onSubmit(any);\n  };\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      items = _useState10[0],\n      setItems = _useState10[1];\n\n  var tableHeader = function tableHeader() {\n    return _jsx(View, {\n      style: styles.tableHeader,\n      children: columns.map(function (column, index) {\n        {\n          return _jsx(TouchableOpacity, {\n            style: styles.columnHeader,\n            onPress: function onPress() {\n              return sortTable(column);\n            },\n            children: _jsxs(Text, {\n              style: styles.columnHeaderTxt,\n              children: [column + \"\", selectedColumn === column && _jsx(MaterialCommunityIcons, {\n                name: direction === \"desc\" ? \"arrow-down-drop-circle\" : \"arrow-up-drop-circle\"\n              })]\n            })\n          }, index);\n        }\n      })\n    });\n  };\n\n  return _jsxs(View, {\n    style: {\n      top: 10,\n      height: '100%',\n      width: '100%'\n    },\n    children: [_jsx(View, {\n      children: _jsxs(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-around',\n          margin: 19\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 18,\n            top: 5,\n            left: 7,\n            fontWeight: 'bold'\n          },\n          children: \"Filter\"\n        }), _jsx(View, {\n          style: {\n            width: '90%',\n            left: 10\n          },\n          children: _jsx(DropDownClassStudents, {})\n        })]\n      })\n    }), _jsx(FlatList, {\n      data: students,\n      keyExtractor: function keyExtractor(item, index) {\n        return index + \"\";\n      },\n      style: {\n        maxWidth: '100%'\n      },\n      ListHeaderComponent: tableHeader,\n      stickyHeaderIndices: [0],\n      extraData: students,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item,\n            index = _ref2.index;\n        return _jsxs(View, {\n          style: _objectSpread(_objectSpread({}, styles.tableRow), {}, {\n            backgroundColor: index % 2 == 1 ? \"#F0FBFC\" : \"white\",\n            width: '100%'\n          }),\n          children: [_jsx(Text, {\n            style: _objectSpread({}, styles.columnRowTxt),\n            children: item.first_name + ' ' + item.last_name\n          }), _jsx(ScrollView, {\n            horizontal: true,\n            showsHorizontalScrollIndicator: true,\n            pagingEnabled: true,\n            style: {\n              width: '150%'\n            },\n            children: _jsxs(View, {\n              style: {\n                flexDirection: 'row',\n                left: 40\n              },\n              children: [_jsx(View, {\n                style: {\n                  left: 23\n                },\n                children: _jsx(CheckBox, {\n                  title: \"P\",\n                  checkedColor: \"green\",\n                  checked: item.attendanc == 'p' ? true : false,\n                  checkedIcon: \"dot-circle-o\",\n                  unCheckedIcon: \"circle-o\",\n                  onPress: function onPress() {\n                    return MarkAttendance(index, 'p');\n                  },\n                  containerStyle: {\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    height: 50,\n                    right: 50,\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    top: -10,\n                    backgroundColor: 'transparent'\n                  }\n                })\n              }), _jsx(View, {\n                style: {\n                  left: 5\n                },\n                children: _jsx(CheckBox, {\n                  title: \"A\",\n                  checkedColor: \"red\",\n                  checked: item.attendanc == 'a' ? true : false,\n                  checkedIcon: \"dot-circle-o\",\n                  unCheckedIcon: \"circle-o\",\n                  onPress: function onPress() {\n                    return MarkAttendance(index, 'a');\n                  },\n                  containerStyle: {\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    height: 50,\n                    right: 50,\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    top: -10,\n                    backgroundColor: 'transparent'\n                  }\n                })\n              }), _jsx(View, {\n                style: {\n                  left: 5\n                },\n                children: _jsx(CheckBox, {\n                  title: \"L\",\n                  checkedColor: \"gray\",\n                  checked: item.attendanc == 'l' ? true : false,\n                  checkedIcon: \"dot-circle-o\",\n                  unCheckedIcon: \"circle-o\",\n                  onPress: function onPress() {\n                    return MarkAttendance(index, 'l');\n                  },\n                  containerStyle: {\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    height: 50,\n                    right: 70,\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    top: -10,\n                    backgroundColor: 'transparent'\n                  }\n                })\n              })]\n            })\n          })]\n        });\n      }\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  tableHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    backgroundColor: \"#5062BD\",\n    borderTopEndRadius: 10,\n    borderTopStartRadius: 10,\n    height: 50\n  },\n  tableRow: {\n    flexDirection: \"row\",\n    height: 40,\n    margin: 2,\n    left: 8\n  },\n  columnHeader: {\n    width: \"16%\",\n    justifyContent: \"center\",\n    alignItems: \"flex-start\",\n    margin: 10\n  },\n  columnHeaderTxt: {\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  columnRowTxt: {\n    width: \"18%\"\n  },\n  attendanceContainer: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    display: 'flex'\n  },\n  submitAttendance: {\n    color: 'white',\n    fontSize: 18\n  },\n  submitAttendance: {\n    backgroundColor: 'orange',\n    padding: 12,\n    bottom: 12,\n    color: 'white',\n    fontSize: 20,\n    borderRadius: 10\n  }\n});\nexport default MarkTeacherAttendance;","map":{"version":3,"sources":["F:/js-files/dev_students/ReactNativeAuthUI1/app/screen/schooladmin/MarkTeacherAttendance.js"],"names":["StatusBar","React","useState","useEffect","Divider","MaterialCommunityIcons","_","ChangeSectionClass","CheckBox","useIsFocused","windowWidth","Dimensions","get","width","windowHeight","height","MarkTeacherAttendance","navigation","columns","setColumns","direction","setDirection","selectedColumn","setSelectedColumn","students","setStudents","fetchPosts","apiURL","fetch","then","response","json","responseJson","catch","error","console","log","focus","onSubmit","any","method","body","JSON","stringify","headers","err","MarkAttendance","item","S","std","attendanc","newArr","items","setItems","tableHeader","styles","map","column","index","columnHeader","sortTable","columnHeaderTxt","top","flexDirection","justifyContent","margin","fontSize","left","fontWeight","maxWidth","tableRow","backgroundColor","columnRowTxt","first_name","last_name","alignItems","right","StyleSheet","create","borderTopEndRadius","borderTopStartRadius","color","attendanceContainer","display","submitAttendance","padding","bottom","borderRadius"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, Text, View, FlatList, TouchableOpacity, ScrollView,Dimensions,Divider  } from 'react-native';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport _ from \"lodash\"\r\nimport ChangeSectionClass from '../singleStudentAttendance/ChangeSectionClass';\r\n// import BouncyCheckbox from 'react-native-bouncy-checkbox'\r\n// import { RadioButton } from 'react-native-paper';\r\n// import RadioGroup from 'react-native-radio-buttons-group';\r\nimport { CheckBox } from 'react-native-elements';\r\nimport { useIsFocused } from \"@react-navigation/native\";\r\n\r\n\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst MarkTeacherAttendance = ({ navigation }) => {\r\n  const [columns, setColumns] = useState([\r\n    \"Name\",\r\n    // \"Roll No\"\r\n  ])\r\n  \r\n  const [direction, setDirection] = useState('')\r\n  const [selectedColumn, setSelectedColumn] = useState('')\r\n  \r\n  const [students,setStudents] =useState('')\r\n\r\n  const fetchPosts = () => {\r\n    const apiURL = \"http://192.168.18.14:8000/getStudentAttendance\";\r\n    fetch(apiURL)\r\n      .then((response) => response.json())\r\n      .then((responseJson) => {\r\n        setStudents(responseJson);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  const focus = useIsFocused();\r\n  useEffect(() => {\r\n    fetchPosts();\r\n    return () => {};\r\n  }, [focus]);\r\n\r\n\r\n  const onSubmit = (any) => {\r\n    console.log(any)\r\n    fetch('http://192.168.18.64:8000/studentattendance', {\r\n      method: \"POST\",\r\n      body: JSON.stringify(any),\r\n      headers: {\r\n        'content-type': 'application/json; charset=utf-8',\r\n      }\r\n    })\r\n    .then((response) => response.json())\r\n    .catch(err => {\r\n      console.log(err);\r\n\r\n  });\r\n   }\r\n  \r\n\r\n\r\n  const MarkAttendance=(item,S)=>{\r\n   let std=students\r\n   std[item].attendanc = S\r\n   let newArr = [...std]; // copying the old datas array\r\n   newArr[item].attendanc = S; \r\n   setStudents(newArr)\r\n    let any = std[item]\r\n  // console.log(any) \r\n  onSubmit(any);\r\n  \r\n}\r\n// console.log(students[0])\r\n\r\nconst [ items , setItems ] = useState()\r\n\r\n  const tableHeader = () => (\r\n\r\n    <View style={styles.tableHeader} >\r\n\r\n\r\n      {columns.map((column, index) => {{\r\n          return (\r\n              <TouchableOpacity\r\n                key={index}\r\n                style={styles.columnHeader}\r\n                onPress={() => sortTable(column)}>\r\n                <Text style={styles.columnHeaderTxt}>{column + \"\"}\r\n                  {selectedColumn === column && <MaterialCommunityIcons\r\n                    name={direction === \"desc\" ? \"arrow-down-drop-circle\" : \"arrow-up-drop-circle\"}\r\n                  />\r\n                  }\r\n                </Text>\r\n              </TouchableOpacity>\r\n\r\n            )\r\n          }\r\n        })\r\n      }\r\n    </View>\r\n\r\n  )\r\n\r\n  return (\r\n\r\n  \r\n    <View  style={{top:10, height: '100%',width:'100%' }} >\r\n      \r\n\r\n      <View>\r\n      <View style={{\r\n       flexDirection:'row',\r\n       justifyContent:'space-around',\r\n       margin:19\r\n     }} >\r\n     \r\n     <Text \r\n     style={{\r\n         fontSize: 18,\r\n         top: 5,\r\n         left:7,\r\n         fontWeight: 'bold'\r\n          }}\r\n     >Filter</Text>\r\n     <View style={{\r\n       width:'90%',\r\n       left:10\r\n     }}>\r\n        <DropDownClassStudents />\r\n        </View>\r\n\r\n        \r\n\r\n\r\n        </View>\r\n      </View>\r\n    \r\n      <FlatList\r\n        data={students}\r\n        keyExtractor={(item, index) => index + \"\"}\r\n        style={{ maxWidth: '100%' }}\r\n        ListHeaderComponent={tableHeader}\r\n        stickyHeaderIndices={[0]}\r\n        extraData={students}\r\n        renderItem={({ item, index }) => {\r\n          return (\r\n        \r\n            <View style={{ ...styles.tableRow, backgroundColor: index % 2 == 1 ? \"#F0FBFC\" : \"white\", width: '100%', }}>   \r\n              {/* <Text style={{ ...styles.columnRowTxt, fontWeight: \"bold\" }}>{item.id}</Text> */}\r\n              <Text style={{ ...styles.columnRowTxt }}>{item.first_name+' '+item.last_name}</Text>\r\n              <ScrollView horizontal={true}\r\n                showsHorizontalScrollIndicator={true}\r\n                pagingEnabled={true}\r\n                style={{width:'150%'}}\r\n                >\r\n              <View style={{  flexDirection: 'row',left:40 }}>\r\n                <View \r\n                style={{\r\n                  left:23\r\n                  \r\n                }}\r\n                >\r\n                \r\n                <CheckBox\r\n                  title='P'\r\n                  checkedColor='green'\r\n                  checked={item.attendanc=='p'?true:false}                    \r\n                  checkedIcon =\"dot-circle-o\"\r\n                  unCheckedIcon='circle-o'\r\n                  onPress={()=>MarkAttendance(index,'p')}\r\n                  containerStyle={{\r\n                  alignItems:'center',\r\n                  justifyContent:'center',\r\n       \r\n                  height:50,  \r\n                  right:50,\r\n                  alignItems:'center',\r\n                  justifyContent:'center',\r\n                  top:-10,\r\n                  backgroundColor:'transparent'\r\n                  }}\r\n                  /> \r\n\r\n\r\n                </View>\r\n                <View style={{\r\n                    left:5\r\n                }}>             \r\n              <CheckBox\r\n                  title='A'\r\n                  checkedColor='red'\r\n                  checked={item.attendanc=='a'?true:false}\r\n                  checkedIcon =\"dot-circle-o\"\r\n                  unCheckedIcon='circle-o'\r\n\r\n                  onPress={()=>MarkAttendance(index,'a')}\r\n                  containerStyle={{\r\n                  alignItems:'center',\r\n                  justifyContent:'center',\r\n        \r\n                  height:50,  \r\n                  right:50,\r\n                  alignItems:'center',\r\n                  justifyContent:'center',\r\n                  top:-10,\r\n                  backgroundColor:'transparent'\r\n                  }}\r\n                  />\r\n                </View>\r\n\r\n\r\n                <View style={{left:5,}}>\r\n                <CheckBox\r\n                title='L'\r\n                checkedColor='gray'\r\n\r\n                checked={item.attendanc=='l'?true:false}\r\n                checkedIcon ='dot-circle-o'\r\n                unCheckedIcon='circle-o'\r\n                onPress={()=>MarkAttendance(index,'l')}\r\n                containerStyle={{\r\n                  alignItems:'center',\r\n                  justifyContent:'center',\r\n \r\n                  height:50,  \r\n                  right:70,\r\n                  alignItems:'center',\r\n                  justifyContent:'center',\r\n                  top:-10,\r\n                  backgroundColor:'transparent',\r\n                  \r\n                  }} \r\n                />\r\n\r\n    </View>\r\n\r\n\r\n              </View>\r\n              </ScrollView>\r\n              \r\n            </View>\r\n\r\n          )\r\n        }}\r\n      />\r\n    \r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n  tableHeader: {\r\n\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#5062BD\",\r\n    borderTopEndRadius: 10,\r\n    borderTopStartRadius: 10,\r\n    height: 50,\r\n    \r\n  },\r\n  tableRow: {\r\n    flexDirection: \"row\",\r\n    height: 40,\r\n    margin: 2,\r\n    left: 8\r\n  },\r\n  columnHeader: {\r\n    width: \"16%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"flex-start\",\r\n    margin: 10\r\n  },\r\n  columnHeaderTxt: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n\r\n\r\n  },\r\n  columnRowTxt: {\r\n    width: \"18%\",\r\n  },\r\n  attendanceContainer:{\r\n    width:'100%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n   \r\n    display: 'flex',\r\n    \r\n    \r\n  },\r\n  submitAttendance:{\r\n    color:'white',\r\n    fontSize:18\r\n  },\r\n  submitAttendance: {\r\n    backgroundColor: 'orange',\r\n    padding:12,\r\n    bottom:12,\r\n    color: 'white',\r\n    fontSize:20,\r\n    borderRadius:10,\r\n  }\r\n\r\n});\r\n\r\nexport default MarkTeacherAttendance"]},"metadata":{},"sourceType":"module"}