{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport React, { useEffect, useState } from \"react\";\nimport { getToken } from \"../../../services/AsyncStorageService\";\nimport { useLoggedSchoolAdminQuery } from \"../../../services/userAuthApi\";\nimport { useDispatch } from \"react-redux\";\nimport { setSchoolAdminInfo } from \"../../../features/schoolAdminSlice\";\nimport { setUserToken } from \"../../../features/authSlice\";\nimport CustomCard from \"../../Components/customCard/CustomCard\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SchoolDashboardScreen = function SchoolDashboardScreen() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      userLToken = _useState2[0],\n      setUserLToken = _useState2[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var token;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(getToken());\n\n            case 2:\n              token = _context.sent;\n              setUserLToken(token);\n              dispatch(setUserToken({\n                token: token\n              }));\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  });\n\n  var _useLoggedSchoolAdmin = useLoggedSchoolAdminQuery(userLToken),\n      data = _useLoggedSchoolAdmin.data,\n      isSuccess = _useLoggedSchoolAdmin.isSuccess;\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (isSuccess) {\n      dispatch(setSchoolAdminInfo({\n        email: data.user.email,\n        first_name: data.user.first_name,\n        last_name: data.user.last_name\n      }));\n    }\n  });\n  return _jsxs(View, {\n    children: [_jsx(CustomCard, {\n      backgroundColor: \"#5062BD\",\n      title: \"Teacher Attendance\",\n      color: \"white\"\n    }), _jsx(CustomCard, {\n      backgroundColor: \"#ffffff\",\n      title: \"Student Attendance\"\n    })]\n  });\n};\n\nexport default SchoolDashboardScreen;","map":{"version":3,"sources":["F:/js-files/dev_students/ReactNativeAuthUI1/app/screen/schoolAdminProfile/SchoolAdminDashboardScreen.js"],"names":["React","useEffect","useState","getToken","useLoggedSchoolAdminQuery","useDispatch","setSchoolAdminInfo","setUserToken","CustomCard","SchoolDashboardScreen","userLToken","setUserLToken","token","dispatch","data","isSuccess","email","user","first_name","last_name"],"mappings":";;;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,QAAT;AACA,SAASC,yBAAT;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,kBAAT;AACA,SAASC,YAAT;AACA,OAAOC,UAAP;;;;AAGA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClC,kBAAoCP,QAAQ,EAA5C;AAAA;AAAA,MAAOQ,UAAP;AAAA,MAAmBC,aAAnB;;AAEAV,EAAAA,SAAS,CAAC,YAAM;AACd,KAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACqBE,QAAQ,EAD7B;;AAAA;AACOS,cAAAA,KADP;AAECD,cAAAA,aAAa,CAACC,KAAD,CAAb;AACAC,cAAAA,QAAQ,CAACN,YAAY,CAAC;AAAEK,gBAAAA,KAAK,EAAEA;AAAT,eAAD,CAAb,CAAR;;AAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAKD,GANQ,CAAT;;AAQA,8BAA4BR,yBAAyB,CAACM,UAAD,CAArD;AAAA,MAAQI,IAAR,yBAAQA,IAAR;AAAA,MAAcC,SAAd,yBAAcA,SAAd;;AAGA,MAAMF,QAAQ,GAAGR,WAAW,EAA5B;AACAJ,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIc,SAAJ,EAAe;AACbF,MAAAA,QAAQ,CACNP,kBAAkB,CAAC;AACjBU,QAAAA,KAAK,EAAEF,IAAI,CAACG,IAAL,CAAUD,KADA;AAEjBE,QAAAA,UAAU,EAAEJ,IAAI,CAACG,IAAL,CAAUC,UAFL;AAGjBC,QAAAA,SAAS,EAAEL,IAAI,CAACG,IAAL,CAAUE;AAHJ,OAAD,CADZ,CAAR;AAQD;AACF,GAXQ,CAAT;AAaA,SACE,MAAC,IAAD;AAAA,eAEE,KAAC,UAAD;AACE,MAAA,eAAe,EAAC,SADlB;AAEE,MAAA,KAAK,EAAC,oBAFR;AAGE,MAAA,KAAK,EAAC;AAHR,MAFF,EAQE,KAAC,UAAD;AAAY,MAAA,eAAe,EAAC,SAA5B;AAAsC,MAAA,KAAK,EAAC;AAA5C,MARF;AAAA,IADF;AAcD,CA1CD;;AA4CA,eAAeV,qBAAf","sourcesContent":["import { View, Text, Image, ScrollView } from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getToken } from \"../../../services/AsyncStorageService\";\r\nimport { useLoggedSchoolAdminQuery } from \"../../../services/userAuthApi\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setSchoolAdminInfo } from \"../../../features/schoolAdminSlice\";\r\nimport { setUserToken } from \"../../../features/authSlice\";\r\nimport CustomCard from \"../../Components/customCard/CustomCard\";\r\n\r\n\r\nconst SchoolDashboardScreen = () => {\r\n  const [userLToken, setUserLToken] = useState();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const token = await getToken(); // Getting Token from Storage\r\n      setUserLToken(token); // Store Token in Local State\r\n      dispatch(setUserToken({ token: token })); // Store Token in Redux Store\r\n    })();\r\n  });\r\n\r\n  const { data, isSuccess } = useLoggedSchoolAdminQuery(userLToken);\r\n\r\n  // Store User Data in Redux Store\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      dispatch(\r\n        setSchoolAdminInfo({\r\n          email: data.user.email,\r\n          first_name: data.user.first_name,\r\n          last_name: data.user.last_name,\r\n        })\r\n        \r\n      );\r\n    }\r\n  });\r\n\r\n  return (\r\n    <View>\r\n      {/* <Text>{userLToken}</Text> */}\r\n      <CustomCard\r\n        backgroundColor=\"#5062BD\"\r\n        title=\"Teacher Attendance\"\r\n        color=\"white\"\r\n      />\r\n\r\n      <CustomCard backgroundColor=\"#ffffff\" title=\"Student Attendance\" />\r\n\r\n   \r\n    </View>\r\n  );\r\n};\r\n\r\nexport default SchoolDashboardScreen;\r\n"]},"metadata":{},"sourceType":"module"}